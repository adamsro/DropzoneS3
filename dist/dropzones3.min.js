(function(){var e,t,i,n,s,r,o,a,l,u,c,d=[].slice,p={}.hasOwnProperty,h=function(e,t){function i(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};l=function(){},c=function(){var e,t,i,n,s,r,o;for(n=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],r=0,o=i.length;o>r;r++){t=i[r];for(e in t)s=t[e],n[e]=s}return n},e=function(e){function t(e){this.settings=e}var i=function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/;/g,"%3B"),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},n=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t.sort()},s=function(e){return[e.getUTCFullYear(),r(e.getUTCMonth()+1,2),r(e.getUTCDate(),2),"T",r(e.getUTCHours(),2),r(e.getUTCMinutes(),2),r(e.getUTCSeconds(),2),"Z"].join("")},r=function(e,t){return("00000000000"+e).substr(-t)},o=function(e){return e&&"us"!==e.slice(0,2)?"-"+e:""};return t.prototype.send=function(e){var t=this;t.request_date=new Date,t.headers=t.settings.headers,t.headers.host=t.settings.auth.bucket+".s3"+o(t.settings.auth.region)+".amazonaws.com";var n=[t.settings.auth.date.getUTCFullYear(),r(t.settings.auth.date.getUTCMonth()+1,2),r(t.settings.auth.date.getUTCDate(),2)].join("");t.settings.querystring["X-Amz-Date"]=i(s(t.request_date)),t.settings.querystring["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",t.settings.querystring["X-Amz-Expires"]=86400,t.settings.querystring["X-Amz-Credential"]=i([t.settings.auth.access_key,"/"+n+"/",t.settings.auth.region+"/s3/aws4_request"].join("")),t.settings.querystring["X-Amz-SignedHeaders"]="";var a=[];for(var l in t.headers)a.push(l);a.sort(),t.settings.querystring["X-Amz-SignedHeaders"]=i(a.join(";")),t.settings.querystring["X-Amz-Signature"]=t.get_authorization_header();var u=location.protocol+"//"+t.headers.host+"/"+t.settings.key;delete t.headers.host;var c=!0;for(var d in t.settings.querystring)t.settings.querystring.hasOwnProperty(d)&&(c&&(u+="?"),c=!1,u+=d+"="+t.settings.querystring[d]+"&");u=u.slice(0,-1);var p=new XMLHttpRequest;p.timeout=t.settings.timeout||0,p.addEventListener("load",t.settings.load_callback,!0),p.addEventListener("readystatechange",t.settings.state_change_callback),p.addEventListener("error",t.settings.error_callback,!0),p.upload.addEventListener("progress",t.settings.progress_callback),p.addEventListener("timeout",t.settings.timeout_callback),t.settings.method=t.settings.method||"GET",p.open(t.settings.method,u,!0);for(var h in t.headers)p.setRequestHeader(h,t.headers[h]);t.settings.payload?p.send(t.settings.payload):p.send(),e&&e(p)},t.prototype.get_authorization_header=function(){if(!this.settings.auth.date)throw"Invalid date given.";for(var e=n(this.headers),t="",i=0;i<e.length;i++)t+=e[i].toLowerCase()+";";t=t.slice(0,-1);var s=this.get_canonical_request(),r=this.get_string_to_sign(s,this.request_date),o=this.sign_request(r);return o},t.prototype.get_canonical_request=function(){var e="";e+=this.settings.method.toUpperCase()+"\n",e+="/"+i(this.settings.key).replace(/%2F/g,"/")+"\n";var t,s,r,o=n(this.settings.querystring);for(r=0;r<o.length;r++)t=o[r],s=this.settings.querystring[t],e+=i(t)+"="+s+"&";e=e.slice(0,-"&".length)+"\n";var a=n(this.headers);for(r=0;r<a.length;r++)t=a[r],s=this.headers[t],e+=t.toLowerCase()+":"+s.trim()+"\n";for(e+="\n",r=0;r<a.length;r++)e+=a[r].toLowerCase()+";";return e=e.slice(0,-1)+"\n",e+="UNSIGNED-PAYLOAD"},t.prototype.get_string_to_sign=function(t,i){var n="";return n+="AWS4-HMAC-SHA256\n",n+=s(i)+"\n",n+=[i.getUTCFullYear(),r(i.getUTCMonth()+1,2),r(i.getUTCDate(),2),"/"+this.settings.auth.region+"/s3/aws4_request\n"].join(""),n+=e.SHA256(t.replace(/&/g,"&")).toString()},t.prototype.sign_request=function(t){if(!this.settings.auth.signature)throw"No signature provided.";var i=e.HmacSHA256(t,e.enc.Hex.parse(this.settings.auth.signature)).toString();return i},t}(CryptoJS),e.init=function(t,i,n,s,r){return new e({auth:t,key:n,method:"POST",querystring:{uploads:""},headers:{"x-amz-acl":t.acl,"Content-Disposition":"attachment; filename="+i.name,"Content-Type":i.type||"application/octet-stream"},payload:"",load_callback:s,error_callback:r,timeout:2e4,timeout_callback:r}).send()},e.list=function(t,i,n,s,r,o,a,l){var u={uploadId:s};return l&&(u["part-numberâ€‹-marker"]=l),new e({auth:t,key:n,method:"GET",querystring:u,headers:{},payload:"",error_callback:a,load_callback:function(l){if(404===l.target.status)return void(a&&a(l));for(var u=l.target.responseXML,c=[],d=u.getElementsByTagName("Part"),p=Math.ceil(i.size/r),h=0;h<d.length;h++){var f=parseInt(d[h].getElementsByTagName("PartNumber")[0].textContent,10),m=d[h].getElementsByTagName("ETag")[0].textContent,g=parseInt(d[h].getElementsByTagName("Size")[0].textContent,10);(f==p||g==r)&&(f!=p||g==i.size%r)&&c.push([f,m,g])}var v=u.getElementsByTagName("IsTruncated")[0].textContent;if("true"===v){var y=u.getElementsByTagName("NextPartNumberMarker")[0].textContent;e.list(t,n,s,r,function(e){o(c.concat(e))},a,y)}else o(c)},timeout:2e4,timeout_callback:a}).send()},e.uploadChunk=function(t,i,n,s,r,o,a){var l={partNumber:s+1,uploadId:n};return new e({auth:t,key:i,method:"PUT",querystring:l,headers:{},payload:r,load_callback:o.load_callback,error_callback:o.error_callback,progress_callback:o.progress_callback}).send(a)},e.finish=function(t,i,n,s,r,o,a,l){for(var u={uploadId:s},c="<CompleteMultipartUpload>",d=0;d<r.length;d++)c+="<Part>",c+="<PartNumber>"+r[d][0]+"</PartNumber>",c+="<ETag>"+r[d][1]+"</ETag>",c+="</Part>";return c+="</CompleteMultipartUpload>",-1!==navigator.userAgent.indexOf("Firefox")&&(c=new Blob([c])),new e({auth:t,key:n,method:"POST",querystring:u,headers:{},payload:c,load_callback:a,error_callback:l,timeout:2e4,timeout_callback:l}).send()},e.exists=function(t,i,n,s){return new e({auth:t,key:i,method:"HEAD",querystring:{},headers:{},payload:"",load_callback:function(e){return n(e.target.status/100==2?!0:!1)},error_callback:s,timeout:2e4,timeout_callback:s}).send()},e.abort=function(t,i,n,s,r){return new e({auth:t,key:i,method:"DELETE",querystring:{uploadId:n},headers:{},payload:"",load_callback:function(e){return e.target.status/100==2?s():r(e)},error_callback:r,timeout:2e4,timeout_callback:r}).send()},t=function(e){function t(e,t){this.file=e,this.totalBytes=0,this.chunks=[],this.chunkSize=t||5242880}t.CHUNK_QUEUED="queued",t.CHUNK_UPLOADING="uploading",t.CHUNK_SUCCESS="success";var i=function(e,i){var n=Math.ceil(e/i);chunks=new Array(n);for(var s=0;n>s;s++)chunks[s]={status:t.CHUNK_QUEUED,bytesSent:0,progressDate:!1};return chunks},n=function(e,n,s){for(var r=i(n,s),o=0;o<e.length;o++){var a=parseInt(e[o][0],10);r[a-1].status=t.CHUNK_SUCCESS,r[a-1].bytesSent=s}return r};return t.prototype.init=function(t,s,r,o){var a=this;this.auth=t,this.auth.date=new Date(t.date),this.key=s,this.auth.uploadId?e.list(this.auth,this.file,this.key,this.auth.uploadId,this.chunkSize,function(e){a.chunks=n(e,a.file.size,a.chunkSize),r(!1)},function(t){404===t.target.status&&-1!==t.target.responseText.indexOf("NoSuchUpload")?e.exists(a.auth,a.key,function(e){if(e){a.chunks=i(a.file.size,a.chunkSize);for(var t=a.chunks.length-1;t>=0;t--)a.setChunkComplete(chunks[t]);r(!0)}else a.init(a.auth,a.key,!0,a.chunkSize,r)},function(){o(t)}):o(t)}):e.init(this.auth,this.file,this.key,function(e){if(e.target.status/100!==2)return o(e);var t=e.target.responseXML;a.auth.uploadId=t.getElementsByTagName("UploadId")[0].textContent,a.chunks=i(a.file.size,a.chunkSize),r(!1)},o)},t.prototype.getNextQueuedChunk=function(){for(var e=0,i=this.chunks.length;i>e;e++)if(this.chunks[e].status===t.CHUNK_QUEUED)return e;return!1},t.prototype.getUploadingChunks=function(){for(var e=[],i=0,n=this.chunks.length;n>i;i++)this.chunks[i].status===t.CHUNK_UPLOADING&&e.push(i);return e?e:!1},t.prototype.chunksSuccessful=function(){for(var e=0,i=this.chunks.length;i>e;e++)if(this.chunks[e].status!==t.CHUNK_SUCCESS)return!1;return!0},t.prototype.uploadChunk=function(i,n,s,r){var o=this,a={load_callback:n,error_callback:s,progress_callback:r},l=this.chunks[i],u=this.chunkSize,c=i*u,d=Math.min(c+u,this.file.size);l.status=t.CHUNK_UPLOADING,l.progressDate=new Date,e.uploadChunk(this.auth,this.key,this.auth.uploadId,i,this.file.slice(c,d),a,function(e){l.xhr=e,l.interval=setInterval(function(e){e.progressDate&&new Date-e.progressDate>15e3&&(clearInterval(e.interval),o.getUploadingChunks()&&(e.xhr.abort(),s(e.xhr)))}(l),4e3)})},t.prototype.setChunkProgress=function(e,t){this.chunks[e].bytesSent=t,this.totalBytes=0;for(var i=this.chunks.length-1;i>=0;i--)this.totalBytes+=this.chunks[i].bytesSent},t.prototype.setChunkComplete=function(e){var i=this.chunks.length-1==e?this.file.size%this.chunkSize:this.chunkSize;this.setChunkProgress(e,i),clearInterval(this.chunks[e].interval),this.chunks[e].status=t.CHUNK_SUCCESS},t.prototype.resetChunk=function(e){this.setChunkProgress(e,0),clearInterval(this.chunks[e].interval),this.chunks[e].status=t.CHUNK_QUEUED},t.prototype.getTotalProgress=function(){return this.totalBytes/this.file.size*100},t.prototype.getBytesSent=function(){return this.totalBytes},t.prototype.reset=function(){this.totalProgress=0,this.auth=null,this.chunks=[]},t.prototype.abort=function(t,i){for(var n=this.chunks.length-1;n>=0;n--)this.chunks[n].hasOwnProperty("xhr")&&this.chunks[n].xhr.abort();e.abort(this.auth,this.key,this.auth.uploadId,t,i),this.reset()},t.prototype.finishUpload=function(t,i,s){var r=this;e.list(this.auth,this.file,this.key,this.auth.uploadId,this.chunkSize,function(o){o.length!=r.chunks.length?(r.chunks=n(o,r.file.size,r.chunkSize),i()):e.finish(r.auth,r.file,r.key,r.auth.uploadId,o,r.chunkSize,function(n){n.target.status/100==2?t(n):400==n.target.status&&-1!==n.target.responseText.indexOf("EntityTooSmall")?this.file.upload.finishUpload(t,i,s):404===n.target.status&&-1!==n.target.responseText.indexOf("NoSuchUpload")?e.exists(r.auth,r.key,function(e){return e?t(n):s(n)},s):s(n)},s)},function(i){404==i.target.status&&-1!==i.target.responseText.indexOf("NoSuchUpload")?e.exists(r.auth,r.key,function(e){return e?t(i):s(i)},s):s(i)})},t}(e),n=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,s,r;if(n=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(s=0,r=i.length;r>s;s++)t=i[s],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,s,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(s=r=0,o=n.length;o>r;s=++r)if(i=n[s],i===t){n.splice(s,1);break}return this},e}(),i=function(e){function i(e,t){var n,s,r;if(this.element=e,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("DropzoneS3 already attached.");if(i.instances.push(this),this.element.dropzone=this,n=null!==(r=i.optionsForElement(this.element))?r:{},this.options=c({},this.defaultOptions,n,null!==t?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.fallbackMethod=this.options.fallbackMethod.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}return h(i,e),i.prototype.Emitter=n,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","duplicate","addedfile","removedfile","thumbnail","error","processing","filesigned","fileinit","enqueuing","uploadprogress","totaluploadprogress","sending","success","canceled","complete","reset","maxfilesexceeded","maxfilesreached","queuecomplete","pausing","resuming"],i.prototype.defaultOptions={signingUrl:"/?action=sign&",parallelUploads:6,maxFiles:null,maxConcurrentWorkers:6,maxChunkSize:5242880,allowDuplicates:!1,maxFilesize:1e4,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcess:!0,autoQueue:!0,addRemoveLinks:!0,fileResumable:!0,localStorageResume:!0,localStoragePrefix:"ds3",previewsContainer:null,capture:null,retryAttempts:3,retryInterval:10,fallbackMethod:"post",dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictConnectionError:"Connection error. will retry upload in {{seconds}} seconds.",dictCancelUpload:"Cancel upload",dictResumeUpload:"Connection Error. Click to resume.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,t,n,s,r,o;for(this.element.className=""+this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),s=0,r=o.length;r>s;s++)e=o[s],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},duplicate:function(e){if(e.previewElement){var t=function(){e.previewElement.classList.remove("dz-duplicate-attempt"),e.previewElement.removeEventListener("transitionend",t,!0)};e.previewElement.addEventListener("transitionend",t,!0),e.previewElement.classList.add("dz-duplicate-attempt")}},addedfile:function(e){var t,n,s,r,o,a,l,u,c,d,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=d.length;l>r;r++)t=d[r],t.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),o=0,u=p.length;u>o;o++)t=p[o],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,c=h.length;c>a;a++)s=h[a],f.push(s.addEventListener("click",n))}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,s=r.length;s>n;n++)i=r[n],i.alt=e.name,i.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,s,r,o;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(i.textContent=t);return o}},processing:function(e){e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink&&(e._removeLink.textContent=this.options.dictCancelUpload))},enqueuing:l,filesigned:function(e,t,i){i()},fileinit:function(e,t){t()},pausing:function(e,t){if(!this.options.fileResumable)return!1;var i=function(e,t){return function(n){n.preventDefault(),n.stopPropagation(),t.previewElement.removeEventListener("click",i),e.resumeFile(t)}}(this,e);e.previewElement.classList.add("dz-paused"),e.previewElement.addEventListener("click",i),t||(t=""),"String"!=typeof t&&t.error&&(t=t.error);for(var n=e.previewElement.querySelectorAll("[data-dz-pausemessage]"),s=0,r=n.length;r>s;s++)n[s].textContent=t},resuming:function(e){e.previewElement.classList.remove("dz-paused")},uploadprogress:function(e,t){var i,n,s,r,o;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push("PROGRESS"===i.nodeName?i.value=t:i.style.width=""+t+"%");return o}},totaluploadprogress:l,sending:l,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},canceled:function(e){return this.emit("error",e,"Upload canceled.")},finish:function(e,t,i){i()},complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,previewTemplate:'<div class="dz-preview dz-file-preview"><div class="dz-image"><img data-dz-thumbnail /></div><div class="dz-details"><div class="dz-size"><span data-dz-size></span></div><div class="dz-filename"><span data-dz-name></span></div></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div><div class="dz-error-message"><span data-dz-errormessage></span></div><div class="dz-pause-message"><span data-dz-pausemessage></span></div><div class="dz-success-mark"><svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><title>Check</title><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path></g></svg></div><div class="dz-error-mark"><svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><title>Error</title><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"><path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path></g></g></svg></div><div class="dz-resume-mark"><svg width="54px" height="54px" viewBox="0 0 253 253" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><title>Resume</title><defs></defs><g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"><path d="M126.5,253 C196.364021,253 253,196.364021 253,126.5 C253,56.6359792 196.364021,0 126.5,0 C56.6359792,0 0,56.6359792 0,126.5 C0,196.364021 56.6359792,253 126.5,253 Z M82.678324,213.191925 C76.9189197,216.471979 72.25,213.761465 72.25,207.13597 L72.25,45.8640298 C72.25,39.2393642 76.9235422,36.5273677 82.678324,39.8007434 L224.571676,120.511057 C230.33108,123.787062 230.326458,129.10443 224.571676,132.381852 L82.678324,213.191925 Z" id="Oval-8" fill="#FFFFFF" sketch:type="MSShapeGroup"></path></g></svg></div></div>'},i.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&s.push(e);return s},i.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||s.push(e);return s},i.prototype.getFilesWithStatus=function(e){for(var t=[],i=0,n=this.files.length;n>i;i++)this.files[i].status===e&&t.push(this.files[i]);return t},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){for(var e=[],t=0,n=this.files.length;n>t;t++)(this.files[t].status===i.UPLOADING||this.files[t].status===i.QUEUED)&&e.push(this.files[t]);return e},i.prototype.getWorkerCount=function(){for(var e=0,t=0,i=this.files.length;i>t;t++)e+=this.files[t].upload.getUploadingChunks().length;return e},i.prototype.init=function(){var e,t,n,s,r,o,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,s,r;if(i=e.hiddenFileInput.files,i.length)for(s=0,r=i.length;r>s;s++)t=i[s],e.addFile(t);return n()})}}(this))(),this.URL=null!==(o=window.URL)?o:window.webkitURL,a=this.events,s=0,r=a.length;r>s;s++)e=a[s],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(s){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message"))?e.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,r,o,a;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),r=0,o=a.length;o>r;r++)t=a[r],n+=t.upload.bytesSent,i+=t.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},i.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},i.prototype.getFallbackForm=function(){var e,t,n,s;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=i.createElement(n),"FORM"!==this.element.tagName?(s=i.createElement('<form action="AWS_URL_HERE" enctype="multipart/form-data" method="'+this.options.fallbackMethod+'"></form>'),s.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:t)},i.prototype.getExistingFallback=function(){var e,t,i,n,s,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],n=0,s=r.length;s>n;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},i.prototype.setupEventListeners=function(){var e,t,i,n,s,r,o;for(r=this.listeners,o=[],n=0,s=r.length;s>n;n++)e=r[n],o.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return o},i.prototype.removeEventListeners=function(){var e,t,i,n,s,r,o;for(r=this.listeners,o=[],n=0,s=r.length;s>n;n++)e=r[n],o.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return o},i.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(this.cancelUpload(e));return s},i.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(e){var t,i,n,s,r,o,a,l;for(o=["TB","GB","MB","KB","b"],n=s=null,i=a=0,l=o.length;l>a;i=++a)if(r=o[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),s=r;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+s},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},i.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;n>i;i++)t=e[i],s.push(this.addFile(t));return s},i.prototype._addFilesFromItems=function(e){var t,i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],r.push(null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?this.addFile(i.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=i.getAsFile?null===i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return r},i.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,s,r;
for(s=0,r=i.length;r>s;s++)n=i[s],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},i.prototype.addFile=function(e){var n=this;if(e.processed=!1,e.isDuplicate=!1,e.retryAttemptsRemaining=this.options.retryAttempts,this.options.allowDuplicates===!1&&this.files.length)for(var s=0,r=this.files.length;r>s;s++){var o=this.files[s];if(o.name===e.name&&o.size===e.size&&o.lastModified===e.lastModified)switch(e.isDuplicate=!0,o.status){case i.ERROR:n.removeFile(o);break;case i.PAUSED:n.resumeFile(o);default:return void this.emit("duplicate",o,e)}}return e.upload=new t(e,this.options.maxChunkSize),this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing(e,i)):(e.accepted=!0,t.options.autoProcess&&setTimeout(function(){return t.processFile(e)},0)),t._updateMaxFilesReachedClass()}}(this))},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},i.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},i.prototype.createThumbnailFromUrl=function(e,t,i){var n;return n=document.createElement("img"),n.onload=function(t){return function(){var s,r,o,l,u,c,d,p;return e.width=n.width,e.height=n.height,o=t.options.resize.call(t,e),null==o.trgWidth&&(o.trgWidth=o.optWidth),null==o.trgHeight&&(o.trgHeight=o.optHeight),s=document.createElement("canvas"),r=s.getContext("2d"),s.width=o.trgWidth,s.height=o.trgHeight,a(r,n,null!=(u=o.srcX)?u:0,null!=(c=o.srcY)?c:0,o.srcWidth,o.srcHeight,null!=(d=o.trgX)?d:0,null!=(p=o.trgY)?p:0,o.trgWidth,o.trgHeight),l=s.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=t},i.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},i.prototype.processFile=function(e){var t,n=this;if(e.status!==i.ADDED||e.accepted!==!0)throw new Error("This file can't be processed because it has already been processed or was rejected.");var s=new XMLHttpRequest;s.onload=function(){if(s.status/100!==2)return n._errorProcessing(e,n.options.dictResponseError.replace("{{statusCode}}",s.status),s);var t=JSON.parse(s.responseText);if(n.options.localStorageResume===!0&&n.options.allowDuplicates===!1){var r;(r=window.localStorage.getItem(n.options.localStoragePrefix+JSON.stringify({n:e.name,s:e.size,l:e.lastModified})))&&(r=JSON.parse(r),t.uploadId=r.u,t.key=r.k)}n.emit("filesigned",e,t,function(){e.upload.init(t,t.key,function(t){e.processed=!0,t?n._finished(e):(n.options.localStorageResume===!0&&n.options.allowDuplicates===!1&&window.localStorage.setItem(n.options.localStoragePrefix+JSON.stringify({n:e.name,s:e.size,l:e.lastModified}),JSON.stringify({u:e.upload.auth.uploadId,k:e.upload.auth.key})),n.emit("fileinit",e,function(){e.status=i.PROCESSED,n.options.autoQueue&&n.enqueueFile(e)}))},function(t){return n._errorProcessing(e,n.options.dictResponseError.replace("{{statusCode}}",t.target.status),t.target)})})},s.onerror=s.ontimeout=function(t){return n._errorProcessing(e,n.options.dictResponseError.replace("{{statusCode}}",t.target.status),t.target)},e.status=i.PROCESSING,t="filename="+encodeURIComponent(e.name),this.emit("processing",e,s,t),s.timeout=2e4,s.open("GET",this.options.signingUrl+t,!0),s.send()},i.prototype.enqueueFile=function(e){var t=this;if(e.status===i.PROCESSED)return this.emit("enqueuing",e),e.status=i.QUEUED,setTimeout(function(){return t.processQueue()},0);throw new Error("This file can't be enqueued because it has not been processed or was rejected.")},i.prototype.processQueue=function(){for(var e,t,i=this.getActiveFiles(),n=this.options.parallelUploads,s=this.getWorkerCount();e=i.shift();)e.upload.chunksSuccessful()&&(this._finishUpload(e),s++);if(i=this.getActiveFiles(),e=i.shift())for(;s<this.options.maxConcurrentWorkers;)if((t=e.upload.getNextQueuedChunk())!==!1)this.uploadChunk(e,t),s++;else if(this.getUploadingFiles().length>=n||!(e=i.shift()))break},i.prototype.uploadChunk=function(e,t){e.status=i.UPLOADING,this.emit("sending",e);var n=function(e,t,i){return function(n){t.upload.setChunkProgress(i,n.loaded),t.upload.progressDate=new Date,e.emit("uploadprogress",t,t.upload.getTotalProgress(),t.upload.getBytesSent())}}(this,e,t),s=function(e,t,n){return function(s){if(t.status!==i.CANCELED){if(s.target.status/100!=2)return e._errorProcessing(t,e.options.dictResponseError.replace("{{statusCode}}",s.target.status),s.target);t.retryAttemptsRemaining=e.options.retryAttempts,t.upload.setChunkComplete(n),e.emit("uploadprogress",t,t.upload.getTotalProgress(),t.upload.getBytesSent()),setTimeout(function(){e.processQueue()},0)}}}(this,e,t),r=function(e,t,n){return function(s){return t.status!==i.CANCELED?(t.upload.resetChunk(n),e.emit("uploadprogress",t,t.upload.getTotalProgress(),t.upload.getBytesSent()),e._errorProcessing(t,e.options.dictResponseError.replace("{{statusCode}}",s.target.status),s.target)):void 0}}(this,e,t);e.upload.uploadChunk(t,s,r,n)},i.prototype.pauseFile=function(e){e.status===i.UPLOADING&&(e.status=i.PAUSED,this.emit("pausing",e))},i.prototype.resumeFile=function(e){var t=this;return e.status===i.PAUSED?(t.emit("resuming",e),e.accepted&&!e.processed?(e.status=i.ADDED,setTimeout(function(){return t.processFile(e)},0)):(e.status=i.UPLOADING,setTimeout(function(){return t.processQueue()},0))):void 0},i.prototype.cancelUpload=function(e){var t=this;return e.upload.abort(l,function(e,t){return function(i){return e._errorProcessing(t,e.options.dictResponseError.replace("{{statusCode}}",i.target.status),i.target)}}(this,e)),e.status=i.CANCELED,this.emit("canceled",e),setTimeout(function(){return t.processQueue()},0)},i.prototype.removeFile=function(e){return window.localStorage.removeItem(this.options.localStoragePrefix+JSON.stringify({n:e.name,s:e.size,l:e.lastModified})),e.processed===!0?this.cancelUpload(e):e.upload.reset(),this.files=u(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(e){var t,i,n,s;for(null==e&&(e=!1),s=this.files.slice(),i=0,n=s.length;n>i;i++)t=s[i],(t.processed===!1||e)&&this.removeFile(t);return null},i.prototype._finishUpload=function(e){e.status=i.FINISHING,this.emit("finishing",e);var t=function(e,t){return function(i){window.localStorage.removeItem(e.options.localStoragePrefix+JSON.stringify({n:t.name,s:t.size,l:t.lastModified})),e.options.finish(t,i,function(){return e._finished(t,i.target.responseText,i)})}}(this,e),n=function(e,t){return function(){return t.status=i.UPLOADING,setTimeout(function(){return e.processQueue()},0)}}(this,e),s=function(e,t){return function(i){return e._errorProcessing(t,e.options.dictResponseError.replace("{{statusCode}}",i.target.status),i.target)}}(this,e);e.upload.finishUpload(t,n,s)},i.prototype._finished=function(e,t,n){var s=this;return e.status=i.SUCCESS,this.emit("success",e,t,n),this.emit("complete",e),setTimeout(function(){return s.processQueue()},0)},i.prototype._errorProcessing=function(e,t,n){var s=this,r=!(e.status!=i.PROCESSING&&e.status!=i.UPLOADING&&e.status!=i.FINISHING);if(0!==n.status||e.status!=i.PAUSED){if((0===n.status||404==n.status&&-1!==n.responseText.indexOf("RequestTimeout"))&&this.options.fileResumable&&r){if(e.status=i.PAUSED,e.retryAttemptsRemaining>0)return this.emit("pausing",e,s.options.dictConnectionError.replace("{{seconds}}",this.options.retryInterval)),e.retryAttemptsRemaining-=1,setTimeout(function(){s.resumeFile(e)},1e3*s.options.retryInterval);this.emit("pausing",e,s.options.dictResumeUpload)}else e.status=i.ERROR,window.localStorage.removeItem(this.options.localStoragePrefix+JSON.stringify({n:e.name,s:e.size,l:e.lastModified})),this.emit("error",e,t,n),this.emit("complete",e);return setTimeout(function(){return s.processQueue()},0)}},i}(n),i.version="0.1",i.options={},i.optionsForElement=function(e){return e.getAttribute("id")?i.options[s(e.getAttribute("id"))]:void 0},i.instances=[],i.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No DropzoneS3 found for given element. This is probably because you're trying to access it before DropzoneS3 had the time to initialize. Use the `init` option to setup any additional observers on your DropzoneS3.");return e.dropzone},i.autoDiscover=!0,i.discover=function(){var e,t,n,s,r,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzoneS3"):(n=[],e=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(/(^| )dropzoneS3($| )/.test(t.className)?n.push(t):void 0);return r},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],s=0,r=n.length;r>s;s++)t=n[s],o.push(i.optionsForElement(t)!==!1?new i(t):void 0);return o},i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],i.isBrowserSupported=function(){var e,t,n,s,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector&&window.localStorage)if("classList"in document.createElement("a"))for(r=i.blacklistedBrowsers,n=0,s=r.length;s>n;n++)t=r[n],t.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},u=function(e,t){var i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],i!==t&&r.push(i);return r},s=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},i.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},i.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},i.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},i.getElements=function(e,t){var i,n,s,r,o,a,l,u;if(e instanceof Array){s=[];try{for(r=0,a=e.length;a>r;r++)n=e[r],s.push(this.getElement(n,t))}catch(c){i=c,s=null}}else if("string"==typeof e)for(s=[],u=document.querySelectorAll(e),o=0,l=u.length;l>o;o++)n=u[o],s.push(n);else null!=e.nodeType&&(s=[e]);if(null==s||!s.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},i.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},i.isValidFile=function(e,t){var i,n,s,r,o;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),r=0,o=t.length;o>r;r++)if(s=t[r],s=s.trim(),"."===s.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new i(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=i:window.DropzoneS3=i,i.ADDED="added",i.QUEUED="queued",i.PROCESSING="processing",i.PROCESSED="processed",i.UPLOADING="uploading",i.PAUSED="paused",i.FINISHING="finishing",i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success",o=function(e){var t,i,n,s,r,o,a,l,u,c;for(a=e.naturalWidth,o=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=o,n=i.getContext("2d"),n.drawImage(e,0,0),s=n.getImageData(0,0,1,o).data,c=0,r=o,l=o;l>c;)t=s[4*(l-1)+3],0===t?r=l:c=l,l=r+c>>1;return u=l/o,0===u?1:u},a=function(e,t,i,n,s,r,a,l,u,c){var d;return d=o(t),e.drawImage(t,i,n,s,r,a,l,u,c/d)},r=function(e,t){var i,n,s,r,o,a,l,u,c;if(s=!1,c=!0,n=e.document,u=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](a+i.type,r,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0):void 0},o=function(){var e;try{u.doScroll("left")}catch(t){return e=t,void setTimeout(o,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(d){}c&&o()}return n[i](a+"DOMContentLoaded",r,!1),n[i](a+"readystatechange",r,!1),e[i](a+"load",r,!1)}},i._autoDiscoverFunction=function(){return i.autoDiscover?i.discover():void 0},r(window,i._autoDiscoverFunction)}).call(this);
